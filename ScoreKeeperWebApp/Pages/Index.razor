@page "/"
@inject Data.DataHandlerService DataHandler

@implements IDisposable

<h1>Live matches</h1>

@if (DataHandler.CurrentMatch != null)
{
    @scores
}



@code{
    public TeamScoreDataGrid dataGrid;
    public string scores;
    protected override void OnInitialized()
    {
        DataHandler.OnScoreChange += ReloadGrid;

    }
    public void Dispose()
    {
        DataHandler.OnScoreChange -= ReloadGrid;
    }

    void ReloadGrid() //rak: this was never called?
    {
        scores = DataHandler.CurrentMatch.Team1 + " vs " + DataHandler.CurrentMatch.Team2 + " : " + DataHandler.ScoreCounter();
        dataGrid?.Reload();
        InvokeAsync(StateHasChanged);
    }
}