@page "/"
@inject Data.DataHandlerService DataHandler

@implements IDisposable

<h1>Live matches</h1>

@if (DataHandler.CurrentMatch != null)
{
    @scores
}



@code{
    public string scores;
    protected override void OnInitialized()
    {
        DataHandler.OnScoreChange += ReloadScores;

    }
    public void Dispose()
    {
        DataHandler.OnScoreChange -= ReloadScores;
    }

    void ReloadScores()
    {
        scores = DataHandler.CurrentMatch.Team1 + " vs " + DataHandler.CurrentMatch.Team2 + " : " + DataHandler.ScoreCounter();
        InvokeAsync(StateHasChanged);
    }
}